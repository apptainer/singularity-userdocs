\babel@toc {english}{}
\contentsline {chapter}{\numberline {1}Quick Start}{1}{chapter.1}
\contentsline {section}{\numberline {1.1}Quick Installation Steps}{1}{section.1.1}
\contentsline {section}{\numberline {1.2}Overview of the Singularity Interface}{1}{section.1.2}
\contentsline {section}{\numberline {1.3}Download pre-built images}{3}{section.1.3}
\contentsline {section}{\numberline {1.4}Interact with images}{4}{section.1.4}
\contentsline {subsection}{\numberline {1.4.1}Shell}{4}{subsection.1.4.1}
\contentsline {subsection}{\numberline {1.4.2}Executing Commands}{5}{subsection.1.4.2}
\contentsline {subsection}{\numberline {1.4.3}Running a container}{5}{subsection.1.4.3}
\contentsline {subsection}{\numberline {1.4.4}Working with Files}{5}{subsection.1.4.4}
\contentsline {section}{\numberline {1.5}Build images from scratch}{6}{section.1.5}
\contentsline {subsection}{\numberline {1.5.1}Sandbox Directory}{6}{subsection.1.5.1}
\contentsline {subsection}{\numberline {1.5.2}Writable Image}{6}{subsection.1.5.2}
\contentsline {subsection}{\numberline {1.5.3}Converting images from one format to another}{6}{subsection.1.5.3}
\contentsline {subsection}{\numberline {1.5.4}Singularity Recipes}{7}{subsection.1.5.4}
\contentsline {chapter}{\numberline {2}Introduction}{9}{chapter.2}
\contentsline {section}{\numberline {2.1}Welcome to Singularity!}{9}{section.2.1}
\contentsline {subsection}{\numberline {2.1.1}Mobility of Compute}{9}{subsection.2.1.1}
\contentsline {subsection}{\numberline {2.1.2}Reproducibility}{9}{subsection.2.1.2}
\contentsline {subsection}{\numberline {2.1.3}User Freedom}{10}{subsection.2.1.3}
\contentsline {subsection}{\numberline {2.1.4}Support on Existing Traditional HPC}{10}{subsection.2.1.4}
\contentsline {section}{\numberline {2.2}A High Level View of Singularity}{10}{section.2.2}
\contentsline {subsection}{\numberline {2.2.1}Security and privilege escalation}{10}{subsection.2.2.1}
\contentsline {subsection}{\numberline {2.2.2}The Singularity container image}{11}{subsection.2.2.2}
\contentsline {subsubsection}{\numberline {2.2.2.1}\sphinxstyleemphasis {Copying, sharing, branching, and distributing your image}}{11}{subsubsection.2.2.2.1}
\contentsline {subsubsection}{\numberline {2.2.2.2}\sphinxstyleemphasis {Supported container formats}}{11}{subsubsection.2.2.2.2}
\contentsline {subsubsection}{\numberline {2.2.2.3}\sphinxstyleemphasis {Supported Uniform Resource Identifiers (URI)}}{11}{subsubsection.2.2.2.3}
\contentsline {subsection}{\numberline {2.2.3}Name-spaces and isolation}{12}{subsection.2.2.3}
\contentsline {subsection}{\numberline {2.2.4}Compatibility with standard work-flows, pipes and IO}{12}{subsection.2.2.4}
\contentsline {subsection}{\numberline {2.2.5}The Singularity Process Flow}{13}{subsection.2.2.5}
\contentsline {section}{\numberline {2.3}The Singularity Usage Workflow}{13}{section.2.3}
\contentsline {subsection}{\numberline {2.3.1}Singularity Commands}{14}{subsection.2.3.1}
\contentsline {section}{\numberline {2.4}Support}{15}{section.2.4}
\contentsline {section}{\numberline {2.5}About}{15}{section.2.5}
\contentsline {subsection}{\numberline {2.5.1}Overview}{15}{subsection.2.5.1}
\contentsline {subsection}{\numberline {2.5.2}Background}{15}{subsection.2.5.2}
\contentsline {subsubsection}{\numberline {2.5.2.1}The Singularity Solution}{15}{subsubsection.2.5.2.1}
\contentsline {subsubsection}{\numberline {2.5.2.2}Portability and Reproducibility}{17}{subsubsection.2.5.2.2}
\contentsline {subsection}{\numberline {2.5.3}Features}{18}{subsection.2.5.3}
\contentsline {subsubsection}{\numberline {2.5.3.1}Encapsulation of the environment}{18}{subsubsection.2.5.3.1}
\contentsline {subsubsection}{\numberline {2.5.3.2}Containers are image based}{18}{subsubsection.2.5.3.2}
\contentsline {subsubsection}{\numberline {2.5.3.3}No user contextual changes or root escalation allowed}{18}{subsubsection.2.5.3.3}
\contentsline {subsubsection}{\numberline {2.5.3.4}No root owned daemon processes}{18}{subsubsection.2.5.3.4}
\contentsline {subsection}{\numberline {2.5.4}Use Cases}{19}{subsection.2.5.4}
\contentsline {subsubsection}{\numberline {2.5.4.1}BYOE: Bring Your Own Environment}{19}{subsubsection.2.5.4.1}
\contentsline {subsubsection}{\numberline {2.5.4.2}Reproducible science}{19}{subsubsection.2.5.4.2}
\contentsline {subsubsection}{\numberline {2.5.4.3}Static environments (software appliances)}{19}{subsubsection.2.5.4.3}
\contentsline {subsubsection}{\numberline {2.5.4.4}Legacy code on old operating systems}{19}{subsubsection.2.5.4.4}
\contentsline {subsubsection}{\numberline {2.5.4.5}Complicated software stacks that are very host specific}{20}{subsubsection.2.5.4.5}
\contentsline {subsubsection}{\numberline {2.5.4.6}Complicated work-flows that require custom installation and/or data}{20}{subsubsection.2.5.4.6}
\contentsline {subsection}{\numberline {2.5.5}License}{20}{subsection.2.5.5}
\contentsline {subsection}{\numberline {2.5.6}Getting started}{20}{subsection.2.5.6}
\contentsline {chapter}{\numberline {3}Installation}{21}{chapter.3}
\contentsline {section}{\numberline {3.1}Before you begin}{21}{section.3.1}
\contentsline {section}{\numberline {3.2}Install from a tag}{21}{section.3.2}
\contentsline {section}{\numberline {3.3}Install a specific release}{22}{section.3.3}
\contentsline {section}{\numberline {3.4}Install the development branch}{22}{section.3.4}
\contentsline {section}{\numberline {3.5}Remove an old version}{22}{section.3.5}
\contentsline {section}{\numberline {3.6}Install on Windows}{23}{section.3.6}
\contentsline {subsection}{\numberline {3.6.1}Setup}{23}{subsection.3.6.1}
\contentsline {subsection}{\numberline {3.6.2}Singularity Vagrant Box}{23}{subsection.3.6.2}
\contentsline {section}{\numberline {3.7}Install on Linux}{24}{section.3.7}
\contentsline {subsection}{\numberline {3.7.1}Installation from Source}{24}{subsection.3.7.1}
\contentsline {subsubsection}{\numberline {3.7.1.1}Option 1: Download latest stable release}{25}{subsubsection.3.7.1.1}
\contentsline {subsubsection}{\numberline {3.7.1.2}Option 2: Download the latest development code}{25}{subsubsection.3.7.1.2}
\contentsline {subsubsection}{\numberline {3.7.1.3}Prefix in special characters}{25}{subsubsection.3.7.1.3}
\contentsline {subsubsection}{\numberline {3.7.1.4}Updating}{26}{subsubsection.3.7.1.4}
\contentsline {subsection}{\numberline {3.7.2}Debian Ubuntu Package}{26}{subsection.3.7.2}
\contentsline {subsubsection}{\numberline {3.7.2.1}Testing first with Docker}{26}{subsubsection.3.7.2.1}
\contentsline {subsubsection}{\numberline {3.7.2.2}Adding the Mirror and installing}{26}{subsubsection.3.7.2.2}
\contentsline {subsection}{\numberline {3.7.3}Build an RPM from source}{28}{subsection.3.7.3}
\contentsline {subsection}{\numberline {3.7.4}Build an DEB from source}{29}{subsection.3.7.4}
\contentsline {subsection}{\numberline {3.7.5}Install on your Cluster Resource}{29}{subsection.3.7.5}
\contentsline {section}{\numberline {3.8}Install on Mac}{29}{section.3.8}
\contentsline {subsection}{\numberline {3.8.1}Setup}{29}{subsection.3.8.1}
\contentsline {subsection}{\numberline {3.8.2}Option 1: Singularity Vagrant Box}{30}{subsection.3.8.2}
\contentsline {subsection}{\numberline {3.8.3}Option 2: Vagrant Box from Scratch (more advanced alternative)}{31}{subsection.3.8.3}
\contentsline {section}{\numberline {3.9}Requesting an Installation}{32}{section.3.9}
\contentsline {subsection}{\numberline {3.9.1}How do I ask for Singularity on my local resource?}{32}{subsection.3.9.1}
\contentsline {subsection}{\numberline {3.9.2}Information Resources}{32}{subsection.3.9.2}
\contentsline {subsubsection}{\numberline {3.9.2.1}Background}{32}{subsubsection.3.9.2.1}
\contentsline {subsubsection}{\numberline {3.9.2.2}Security}{32}{subsubsection.3.9.2.2}
\contentsline {subsubsection}{\numberline {3.9.2.3}Presentations}{32}{subsubsection.3.9.2.3}
\contentsline {subsection}{\numberline {3.9.3}Installation Request}{32}{subsection.3.9.3}
\contentsline {chapter}{\numberline {4}Build a Container}{35}{chapter.4}
\contentsline {section}{\numberline {4.1}Overview}{35}{section.4.1}
\contentsline {section}{\numberline {4.2}Downloading a existing container from Singularity Hub}{35}{section.4.2}
\contentsline {section}{\numberline {4.3}Downloading a existing container from Docker Hub}{37}{section.4.3}
\contentsline {section}{\numberline {4.4}Creating \sphinxstyleliteralintitle {\sphinxupquote {-{-}writable}} images and \sphinxstyleliteralintitle {\sphinxupquote {-{-}sandbox}} directories}{37}{section.4.4}
\contentsline {subsection}{\numberline {4.4.1}\sphinxstyleliteralintitle {\sphinxupquote {-{-}writable}}}{37}{subsection.4.4.1}
\contentsline {subsection}{\numberline {4.4.2}\sphinxstyleliteralintitle {\sphinxupquote {-{-}sandbox}}}{37}{subsection.4.4.2}
\contentsline {section}{\numberline {4.5}Converting containers from one format to another}{38}{section.4.5}
\contentsline {section}{\numberline {4.6}Building containers from Singularity recipe files}{38}{section.4.6}
\contentsline {subsection}{\numberline {4.6.1}\sphinxstyleliteralintitle {\sphinxupquote {-{-}force}}}{39}{subsection.4.6.1}
\contentsline {subsection}{\numberline {4.6.2}\sphinxstyleliteralintitle {\sphinxupquote {-{-}section}}}{39}{subsection.4.6.2}
\contentsline {subsection}{\numberline {4.6.3}\sphinxstyleliteralintitle {\sphinxupquote {-{-}notest}}}{39}{subsection.4.6.3}
\contentsline {subsection}{\numberline {4.6.4}\sphinxstyleliteralintitle {\sphinxupquote {-{-}checks}}}{39}{subsection.4.6.4}
\contentsline {section}{\numberline {4.7}More Build topics}{40}{section.4.7}
\contentsline {chapter}{\numberline {5}Build Environment}{41}{chapter.5}
\contentsline {section}{\numberline {5.1}Cache Folders}{41}{section.5.1}
\contentsline {section}{\numberline {5.2}Temporary Folders}{41}{section.5.2}
\contentsline {section}{\numberline {5.3}Pull Folder}{42}{section.5.3}
\contentsline {section}{\numberline {5.4}Environment Variables}{42}{section.5.4}
\contentsline {section}{\numberline {5.5}Cache}{42}{section.5.5}
\contentsline {subsection}{\numberline {5.5.1}Defaults}{43}{subsection.5.5.1}
\contentsline {subsubsection}{\numberline {5.5.1.1}Docker}{43}{subsubsection.5.5.1.1}
\contentsline {subsubsection}{\numberline {5.5.1.2}Singularity Hub}{43}{subsubsection.5.5.1.2}
\contentsline {subsection}{\numberline {5.5.2}General}{44}{subsection.5.5.2}
\contentsline {chapter}{\numberline {6}Container Recipes}{45}{chapter.6}
\contentsline {section}{\numberline {6.1}Overview}{45}{section.6.1}
\contentsline {subsection}{\numberline {6.1.1}Header}{45}{subsection.6.1.1}
\contentsline {subsection}{\numberline {6.1.2}Sections}{46}{subsection.6.1.2}
\contentsline {subsubsection}{\numberline {6.1.2.1}\%help}{46}{subsubsection.6.1.2.1}
\contentsline {subsubsection}{\numberline {6.1.2.2}\%setup}{47}{subsubsection.6.1.2.2}
\contentsline {subsubsection}{\numberline {6.1.2.3}\%files}{47}{subsubsection.6.1.2.3}
\contentsline {subsubsection}{\numberline {6.1.2.4}\%labels}{49}{subsubsection.6.1.2.4}
\contentsline {subsubsection}{\numberline {6.1.2.5}\%environment}{50}{subsubsection.6.1.2.5}
\contentsline {subsubsection}{\numberline {6.1.2.6}\%post}{51}{subsubsection.6.1.2.6}
\contentsline {subsubsection}{\numberline {6.1.2.7}\%runscript}{52}{subsubsection.6.1.2.7}
\contentsline {subsubsection}{\numberline {6.1.2.8}\%test}{54}{subsubsection.6.1.2.8}
\contentsline {section}{\numberline {6.2}Apps}{54}{section.6.2}
\contentsline {section}{\numberline {6.3}Examples}{57}{section.6.3}
\contentsline {section}{\numberline {6.4}Best Practices for Build Recipes}{57}{section.6.4}
\contentsline {chapter}{\numberline {7}Singularity Flow}{59}{chapter.7}
\contentsline {section}{\numberline {7.1}Building Images}{59}{section.7.1}
\contentsline {subsection}{\numberline {7.1.1}The Singularity Flow}{59}{subsection.7.1.1}
\contentsline {subsection}{\numberline {7.1.2}1. Development Commands}{60}{subsection.7.1.2}
\contentsline {subsubsection}{\numberline {7.1.2.1}Sandbox Folder}{60}{subsubsection.7.1.2.1}
\contentsline {subsubsection}{\numberline {7.1.2.2}Writable Image}{62}{subsubsection.7.1.2.2}
\contentsline {subsection}{\numberline {7.1.3}2. Production Commands}{63}{subsection.7.1.3}
\contentsline {subsubsection}{\numberline {7.1.3.1}Recommended Production Build}{63}{subsubsection.7.1.3.1}
\contentsline {subsubsection}{\numberline {7.1.3.2}Production Build from Sandbox}{64}{subsubsection.7.1.3.2}
\contentsline {chapter}{\numberline {8}Bind Paths and Mounts}{65}{chapter.8}
\contentsline {section}{\numberline {8.1}Overview}{65}{section.8.1}
\contentsline {subsection}{\numberline {8.1.1}System-defined bind points}{65}{subsection.8.1.1}
\contentsline {subsection}{\numberline {8.1.2}User-defined bind points}{65}{subsection.8.1.2}
\contentsline {subsubsection}{\numberline {8.1.2.1}Specifying Bind Paths}{65}{subsubsection.8.1.2.1}
\contentsline {subsubsection}{\numberline {8.1.2.2}Binding with Overlay}{66}{subsubsection.8.1.2.2}
\contentsline {chapter}{\numberline {9}Persistent Overlays}{69}{chapter.9}
\contentsline {section}{\numberline {9.1}Overview}{69}{section.9.1}
\contentsline {section}{\numberline {9.2}Usage}{69}{section.9.2}
\contentsline {chapter}{\numberline {10}Running Services}{71}{chapter.10}
\contentsline {section}{\numberline {10.1}Why container instances?}{71}{section.10.1}
\contentsline {section}{\numberline {10.2}Container Instances in Singularity}{71}{section.10.2}
\contentsline {section}{\numberline {10.3}Nginx \IeC {\textquotedblleft }Hello-world\IeC {\textquotedblright } in Singularity}{73}{section.10.3}
\contentsline {section}{\numberline {10.4}Putting all together}{74}{section.10.4}
\contentsline {subsection}{\numberline {10.4.1}Building the image}{74}{subsection.10.4.1}
\contentsline {subsection}{\numberline {10.4.2}Running the Server}{76}{subsection.10.4.2}
\contentsline {subsection}{\numberline {10.4.3}Making it Pretty}{77}{subsection.10.4.3}
\contentsline {section}{\numberline {10.5}Important Notes}{78}{section.10.5}
\contentsline {chapter}{\numberline {11}Container Checks}{79}{chapter.11}
\contentsline {section}{\numberline {11.1}Tags and Organization}{79}{section.11.1}
\contentsline {section}{\numberline {11.2}What checks are available?}{80}{section.11.2}
\contentsline {chapter}{\numberline {12}Environment and Metadata}{81}{chapter.12}
\contentsline {section}{\numberline {12.1}Environment}{81}{section.12.1}
\contentsline {section}{\numberline {12.2}Labels}{82}{section.12.2}
\contentsline {section}{\numberline {12.3}Container Metadata}{83}{section.12.3}
\contentsline {chapter}{\numberline {13}Reproducible SCI-F Apps}{85}{chapter.13}
\contentsline {section}{\numberline {13.1}Why do we need SCI-F?}{85}{section.13.1}
\contentsline {subsection}{\numberline {13.1.1}Mixed up Modules}{85}{subsection.13.1.1}
\contentsline {subsection}{\numberline {13.1.2}Container Transparency}{86}{subsection.13.1.2}
\contentsline {subsection}{\numberline {13.1.3}Container Modularity}{88}{subsection.13.1.3}
\contentsline {subsection}{\numberline {13.1.4}Sections}{90}{subsection.13.1.4}
\contentsline {subsection}{\numberline {13.1.5}Interaction}{90}{subsection.13.1.5}
\contentsline {section}{\numberline {13.2}SCI-F Example: Cowsay Container}{92}{section.13.2}
\contentsline {chapter}{\numberline {14}Singularity and Docker}{95}{chapter.14}
\contentsline {section}{\numberline {14.1}TLDR (Too Long Didn\IeC {\textquoteright }t Read)}{95}{section.14.1}
\contentsline {section}{\numberline {14.2}Import a Docker image into a Singularity Image}{95}{section.14.2}
\contentsline {section}{\numberline {14.3}Quick Start: The Docker Registry}{96}{section.14.3}
\contentsline {section}{\numberline {14.4}The Build Specification file, Singularity}{97}{section.14.4}
\contentsline {section}{\numberline {14.5}How does the runscript work?}{98}{section.14.5}
\contentsline {section}{\numberline {14.6}How do I specify my Docker image?}{99}{section.14.6}
\contentsline {section}{\numberline {14.7}Custom Authentication}{99}{section.14.7}
\contentsline {subsection}{\numberline {14.7.1}Authentication in the Singularity Build File}{100}{subsection.14.7.1}
\contentsline {subsection}{\numberline {14.7.2}Authentication in the Environment}{100}{subsection.14.7.2}
\contentsline {subsection}{\numberline {14.7.3}Testing Authentication}{100}{subsection.14.7.3}
\contentsline {section}{\numberline {14.8}Best Practices}{100}{section.14.8}
\contentsline {subsection}{\numberline {14.8.1}1. Installation to Root}{101}{subsection.14.8.1}
\contentsline {subsection}{\numberline {14.8.2}2. Library Configurations}{101}{subsection.14.8.2}
\contentsline {subsection}{\numberline {14.8.3}3. Don\IeC {\textquoteright }t install to \$HOME or \$TMP}{101}{subsection.14.8.3}
\contentsline {section}{\numberline {14.9}Troubleshooting}{101}{section.14.9}
\contentsline {chapter}{\numberline {15}Troubleshooting}{103}{chapter.15}
\contentsline {section}{\numberline {15.1}No space left on device}{103}{section.15.1}
\contentsline {section}{\numberline {15.2}Segfault on Bootstrap of Centos Image}{103}{section.15.2}
\contentsline {section}{\numberline {15.3}How to use Singularity with GRSecurity enabled kernels}{104}{section.15.3}
\contentsline {section}{\numberline {15.4}The container isn\IeC {\textquoteright }t working on a different host!}{104}{section.15.4}
\contentsline {section}{\numberline {15.5}Invalid Argument or Unknown Option}{105}{section.15.5}
\contentsline {section}{\numberline {15.6}Error running Singularity with sudo}{105}{section.15.6}
\contentsline {section}{\numberline {15.7}How to resolve \IeC {\textquotedblleft }Too many levels of symbolic links\IeC {\textquotedblright } error}{105}{section.15.7}
\contentsline {chapter}{\numberline {16}Appendix}{107}{chapter.16}
\contentsline {section}{\numberline {16.1}build-docker-module}{107}{section.16.1}
\contentsline {subsection}{\numberline {16.1.1}Overview}{107}{subsection.16.1.1}
\contentsline {subsection}{\numberline {16.1.2}Keywords}{107}{subsection.16.1.2}
\contentsline {subsection}{\numberline {16.1.3}Notes}{108}{subsection.16.1.3}
\contentsline {section}{\numberline {16.2}build-shub}{108}{section.16.2}
\contentsline {subsection}{\numberline {16.2.1}Overview}{108}{subsection.16.2.1}
\contentsline {subsection}{\numberline {16.2.2}Keywords}{108}{subsection.16.2.2}
\contentsline {subsection}{\numberline {16.2.3}Notes}{108}{subsection.16.2.3}
\contentsline {section}{\numberline {16.3}build-localimage}{109}{section.16.3}
\contentsline {subsection}{\numberline {16.3.1}Overview}{109}{subsection.16.3.1}
\contentsline {subsection}{\numberline {16.3.2}Keywords}{109}{subsection.16.3.2}
\contentsline {subsection}{\numberline {16.3.3}Notes}{109}{subsection.16.3.3}
\contentsline {section}{\numberline {16.4}build-yum}{109}{section.16.4}
\contentsline {subsection}{\numberline {16.4.1}Overview}{109}{subsection.16.4.1}
\contentsline {subsection}{\numberline {16.4.2}Keywords}{109}{subsection.16.4.2}
\contentsline {subsection}{\numberline {16.4.3}Notes}{110}{subsection.16.4.3}
\contentsline {section}{\numberline {16.5}build-debootstrap}{110}{section.16.5}
\contentsline {subsection}{\numberline {16.5.1}Overview}{110}{subsection.16.5.1}
\contentsline {subsection}{\numberline {16.5.2}Keywords}{110}{subsection.16.5.2}
\contentsline {subsection}{\numberline {16.5.3}Notes}{111}{subsection.16.5.3}
\contentsline {section}{\numberline {16.6}build-arch}{111}{section.16.6}
\contentsline {subsection}{\numberline {16.6.1}Overview}{111}{subsection.16.6.1}
\contentsline {subsection}{\numberline {16.6.2}Keywords}{111}{subsection.16.6.2}
\contentsline {subsection}{\numberline {16.6.3}Notes}{111}{subsection.16.6.3}
\contentsline {section}{\numberline {16.7}build-busybox}{111}{section.16.7}
\contentsline {subsection}{\numberline {16.7.1}Overview}{112}{subsection.16.7.1}
\contentsline {subsection}{\numberline {16.7.2}Keywords}{112}{subsection.16.7.2}
\contentsline {subsection}{\numberline {16.7.3}Notes}{112}{subsection.16.7.3}
\contentsline {section}{\numberline {16.8}build-zypper}{112}{section.16.8}
\contentsline {subsection}{\numberline {16.8.1}Overview}{112}{subsection.16.8.1}
\contentsline {subsection}{\numberline {16.8.2}Keywords}{112}{subsection.16.8.2}
\contentsline {section}{\numberline {16.9}Singularity Action Flags}{113}{section.16.9}
\contentsline {subsection}{\numberline {16.9.1}Examples}{113}{subsection.16.9.1}
\contentsline {section}{\numberline {16.10}Commands}{114}{section.16.10}
\contentsline {subsection}{\numberline {16.10.1}Command Usage}{114}{subsection.16.10.1}
\contentsline {subsubsection}{\numberline {16.10.1.1}The Singularity command}{114}{subsubsection.16.10.1.1}
\contentsline {paragraph}{\numberline {16.10.1.1.1}Options and argument processing}{114}{paragraph.16.10.1.1.1}
\contentsline {paragraph}{\numberline {16.10.1.1.2}Singularity Help}{115}{paragraph.16.10.1.1.2}
\contentsline {subsubsection}{\numberline {16.10.1.2}Commands Usage}{115}{subsubsection.16.10.1.2}
\contentsline {subsubsection}{\numberline {16.10.1.3}Support}{116}{subsubsection.16.10.1.3}
\contentsline {subsection}{\numberline {16.10.2}build}{117}{subsection.16.10.2}
\contentsline {subsubsection}{\numberline {16.10.2.1}Overview}{117}{subsubsection.16.10.2.1}
\contentsline {subsubsection}{\numberline {16.10.2.2}Examples}{117}{subsubsection.16.10.2.2}
\contentsline {paragraph}{\numberline {16.10.2.2.1}Download an existing container from Singularity Hub or Docker Hub}{117}{paragraph.16.10.2.2.1}
\contentsline {paragraph}{\numberline {16.10.2.2.2}Create \textendash {}writable images and \textendash {}sandbox directories}{117}{paragraph.16.10.2.2.2}
\contentsline {paragraph}{\numberline {16.10.2.2.3}Convert containers from one format to another}{117}{paragraph.16.10.2.2.3}
\contentsline {paragraph}{\numberline {16.10.2.2.4}Build a container from a Singularity recipe}{117}{paragraph.16.10.2.2.4}
\contentsline {subsection}{\numberline {16.10.3}exec}{118}{subsection.16.10.3}
\contentsline {subsubsection}{\numberline {16.10.3.1}Examples}{118}{subsubsection.16.10.3.1}
\contentsline {paragraph}{\numberline {16.10.3.1.1}Printing the OS release inside the container}{118}{paragraph.16.10.3.1.1}
\contentsline {paragraph}{\numberline {16.10.3.1.2}Printing the OS release for a running instance}{118}{paragraph.16.10.3.1.2}
\contentsline {paragraph}{\numberline {16.10.3.1.3}Runtime Flags}{118}{paragraph.16.10.3.1.3}
\contentsline {paragraph}{\numberline {16.10.3.1.4}Special Characters}{118}{paragraph.16.10.3.1.4}
\contentsline {paragraph}{\numberline {16.10.3.1.5}A Python example}{119}{paragraph.16.10.3.1.5}
\contentsline {paragraph}{\numberline {16.10.3.1.6}A GPU example}{120}{paragraph.16.10.3.1.6}
\contentsline {subsection}{\numberline {16.10.4}inspect}{122}{subsection.16.10.4}
\contentsline {subsubsection}{\numberline {16.10.4.1}JSON Api Standard}{122}{subsubsection.16.10.4.1}
\contentsline {subsubsection}{\numberline {16.10.4.2}Inspect Flags}{123}{subsubsection.16.10.4.2}
\contentsline {paragraph}{\numberline {16.10.4.2.1}Labels}{124}{paragraph.16.10.4.2.1}
\contentsline {paragraph}{\numberline {16.10.4.2.2}Runscript}{124}{paragraph.16.10.4.2.2}
\contentsline {paragraph}{\numberline {16.10.4.2.3}Help}{125}{paragraph.16.10.4.2.3}
\contentsline {paragraph}{\numberline {16.10.4.2.4}Environment}{126}{paragraph.16.10.4.2.4}
\contentsline {paragraph}{\numberline {16.10.4.2.5}Test}{126}{paragraph.16.10.4.2.5}
\contentsline {paragraph}{\numberline {16.10.4.2.6}Deffile}{127}{paragraph.16.10.4.2.6}
\contentsline {subsection}{\numberline {16.10.5}pull}{128}{subsection.16.10.5}
\contentsline {subsubsection}{\numberline {16.10.5.1}Singularity Hub}{128}{subsubsection.16.10.5.1}
\contentsline {paragraph}{\numberline {16.10.5.1.1}How do tags work?}{128}{paragraph.16.10.5.1.1}
\contentsline {paragraph}{\numberline {16.10.5.1.2}Image Names}{128}{paragraph.16.10.5.1.2}
\contentsline {paragraph}{\numberline {16.10.5.1.3}Custom Name}{129}{paragraph.16.10.5.1.3}
\contentsline {paragraph}{\numberline {16.10.5.1.4}Name by commit}{129}{paragraph.16.10.5.1.4}
\contentsline {paragraph}{\numberline {16.10.5.1.5}Name by hash}{129}{paragraph.16.10.5.1.5}
\contentsline {paragraph}{\numberline {16.10.5.1.6}Pull to different folder}{129}{paragraph.16.10.5.1.6}
\contentsline {paragraph}{\numberline {16.10.5.1.7}Pull by commit}{130}{paragraph.16.10.5.1.7}
\contentsline {subsubsection}{\numberline {16.10.5.2}Docker}{130}{subsubsection.16.10.5.2}
\contentsline {subsection}{\numberline {16.10.6}run}{132}{subsection.16.10.6}
\contentsline {subsubsection}{\numberline {16.10.6.1}Overview}{132}{subsubsection.16.10.6.1}
\contentsline {subsubsection}{\numberline {16.10.6.2}Runtime Flags}{132}{subsubsection.16.10.6.2}
\contentsline {subsubsection}{\numberline {16.10.6.3}Examples}{132}{subsubsection.16.10.6.3}
\contentsline {paragraph}{\numberline {16.10.6.3.1}Defining the Runscript}{133}{paragraph.16.10.6.3.1}
\contentsline {subsection}{\numberline {16.10.7}shell}{134}{subsection.16.10.7}
\contentsline {subsubsection}{\numberline {16.10.7.1}Change your shell}{135}{subsubsection.16.10.7.1}
\contentsline {paragraph}{\numberline {16.10.7.1.1}Bash}{135}{paragraph.16.10.7.1.1}
\contentsline {subsubsection}{\numberline {16.10.7.2}Shell Help}{135}{subsubsection.16.10.7.2}
\contentsline {section}{\numberline {16.11}Image Command Group}{137}{section.16.11}
\contentsline {subsection}{\numberline {16.11.1}image.export}{137}{subsection.16.11.1}
\contentsline {subsection}{\numberline {16.11.2}image.expand}{137}{subsection.16.11.2}
\contentsline {subsubsection}{\numberline {16.11.2.1}Increasing the size of an existing image}{137}{subsubsection.16.11.2.1}
\contentsline {subsection}{\numberline {16.11.3}image.import}{138}{subsection.16.11.3}
\contentsline {subsection}{\numberline {16.11.4}image.create}{138}{subsection.16.11.4}
\contentsline {subsubsection}{\numberline {16.11.4.1}Creating a new blank Singularity container image}{139}{subsubsection.16.11.4.1}
\contentsline {paragraph}{\numberline {16.11.4.1.1}Overwriting an image with a new one}{140}{paragraph.16.11.4.1.1}
\contentsline {section}{\numberline {16.12}Instance Command Group}{140}{section.16.12}
\contentsline {subsection}{\numberline {16.12.1}instance.start}{140}{subsection.16.12.1}
\contentsline {subsubsection}{\numberline {16.12.1.1}Overview}{141}{subsubsection.16.12.1.1}
\contentsline {subsubsection}{\numberline {16.12.1.2}Examples}{141}{subsubsection.16.12.1.2}
\contentsline {paragraph}{\numberline {16.12.1.2.1}Start an instance called cow1 from a container on Singularity Hub}{141}{paragraph.16.12.1.2.1}
\contentsline {paragraph}{\numberline {16.12.1.2.2}Start an interactive shell within the instance that you just started}{141}{paragraph.16.12.1.2.2}
\contentsline {paragraph}{\numberline {16.12.1.2.3}Execute the runscript within the instance}{141}{paragraph.16.12.1.2.3}
\contentsline {paragraph}{\numberline {16.12.1.2.4}Run a command within a running instance}{142}{paragraph.16.12.1.2.4}
\contentsline {subsection}{\numberline {16.12.2}instance.list}{142}{subsection.16.12.2}
\contentsline {subsubsection}{\numberline {16.12.2.1}Overview}{142}{subsubsection.16.12.2.1}
\contentsline {subsubsection}{\numberline {16.12.2.2}Examples}{142}{subsubsection.16.12.2.2}
\contentsline {paragraph}{\numberline {16.12.2.2.1}Start a few named instances from containers on Singularity Hub}{143}{paragraph.16.12.2.2.1}
\contentsline {paragraph}{\numberline {16.12.2.2.2}List running instances}{143}{paragraph.16.12.2.2.2}
\contentsline {subsection}{\numberline {16.12.3}instance.stop}{143}{subsection.16.12.3}
\contentsline {subsubsection}{\numberline {16.12.3.1}Overview}{143}{subsubsection.16.12.3.1}
\contentsline {subsubsection}{\numberline {16.12.3.2}Examples}{143}{subsubsection.16.12.3.2}
\contentsline {paragraph}{\numberline {16.12.3.2.1}Start a few named instances from containers on Singularity Hub}{143}{paragraph.16.12.3.2.1}
\contentsline {paragraph}{\numberline {16.12.3.2.2}Stop a single instance}{143}{paragraph.16.12.3.2.2}
\contentsline {paragraph}{\numberline {16.12.3.2.3}Stop all running instances}{144}{paragraph.16.12.3.2.3}
\contentsline {section}{\numberline {16.13}Deprecated}{144}{section.16.13}
\contentsline {subsection}{\numberline {16.13.1}bootstrap}{144}{subsection.16.13.1}
\contentsline {subsubsection}{\numberline {16.13.1.1}Quick Start}{144}{subsubsection.16.13.1.1}
\contentsline {chapter}{\numberline {17}Contributing}{147}{chapter.17}
\contentsline {section}{\numberline {17.1}Support Singularity}{147}{section.17.1}
\contentsline {subsection}{\numberline {17.1.1}Singularity Google Group}{147}{subsection.17.1.1}
\contentsline {subsection}{\numberline {17.1.2}Singularity on Slack}{147}{subsection.17.1.2}
\contentsline {section}{\numberline {17.2}Contribute to the code}{147}{section.17.2}
\contentsline {subsection}{\numberline {17.2.1}Step 1. Fork the repo}{148}{subsection.17.2.1}
\contentsline {subsection}{\numberline {17.2.2}Step 2. Set up your config}{148}{subsection.17.2.2}
\contentsline {subsection}{\numberline {17.2.3}Step 3. Checkout a new branch}{150}{subsection.17.2.3}
\contentsline {subsection}{\numberline {17.2.4}Step 4. Make your changes}{150}{subsection.17.2.4}
\contentsline {subsection}{\numberline {17.2.5}Step 5. Push your branch to your fork}{151}{subsection.17.2.5}
\contentsline {subsection}{\numberline {17.2.6}Step 6. Submit a Pull Request}{151}{subsection.17.2.6}
\contentsline {subsection}{\numberline {17.2.7}Support, helping and spreading the word!}{151}{subsection.17.2.7}
\contentsline {section}{\numberline {17.3}Contributing to Documentation}{151}{section.17.3}
\contentsline {chapter}{\numberline {18}FAQ}{153}{chapter.18}
\contentsline {section}{\numberline {18.1}General Singularity Info}{153}{section.18.1}
\contentsline {subsection}{\numberline {18.1.1}Why the name \IeC {\textquotedblleft }Singularity\IeC {\textquotedblright }?}{153}{subsection.18.1.1}
\contentsline {subsection}{\numberline {18.1.2}What is so special about Singularity?}{153}{subsection.18.1.2}
\contentsline {subsection}{\numberline {18.1.3}Which namespaces are virtualized? Is that select-able?}{154}{subsection.18.1.3}
\contentsline {subsection}{\numberline {18.1.4}What Linux distributions are you trying to get on-board?}{154}{subsection.18.1.4}
\contentsline {subsection}{\numberline {18.1.5}How do I request an installation on my resource?}{154}{subsection.18.1.5}
\contentsline {section}{\numberline {18.2}Basic Singularity usage}{154}{section.18.2}
\contentsline {subsection}{\numberline {18.2.1}Do you need administrator privileges to use Singularity?}{154}{subsection.18.2.1}
\contentsline {subsection}{\numberline {18.2.2}What if I don\IeC {\textquoteright }t want to install Singularity on my computer?}{154}{subsection.18.2.2}
\contentsline {subsection}{\numberline {18.2.3}Can you edit/modify a Singularity container once it has been instantiated?}{155}{subsection.18.2.3}
\contentsline {subsection}{\numberline {18.2.4}Can multiple applications be packaged into one Singularity Container?}{155}{subsection.18.2.4}
\contentsline {subsection}{\numberline {18.2.5}How are external file systems and paths handled in a Singularity Container?}{155}{subsection.18.2.5}
\contentsline {subsection}{\numberline {18.2.6}How does Singularity handle networking?}{155}{subsection.18.2.6}
\contentsline {subsection}{\numberline {18.2.7}Can Singularity support daemon processes?}{155}{subsection.18.2.7}
\contentsline {subsection}{\numberline {18.2.8}Can a Singularity container be multi-threaded?}{155}{subsection.18.2.8}
\contentsline {subsection}{\numberline {18.2.9}Can a Singularity container be suspended or check-pointed?}{156}{subsection.18.2.9}
\contentsline {subsection}{\numberline {18.2.10}Are there any special requirements to use Singularity through an HPC job scheduler?}{156}{subsection.18.2.10}
\contentsline {subsection}{\numberline {18.2.11}Does Singularity work in multi-tenant HPC cluster environments?}{156}{subsection.18.2.11}
\contentsline {subsection}{\numberline {18.2.12}Can I run X11 apps through Singularity?}{156}{subsection.18.2.12}
\contentsline {subsection}{\numberline {18.2.13}Can I containerize my MPI application with Singularity and run it properly on an HPC system?}{156}{subsection.18.2.13}
\contentsline {subsection}{\numberline {18.2.14}Why do we call \IeC {\textquoteleft }mpirun\IeC {\textquoteright } from outside the container (rather than inside)?}{156}{subsection.18.2.14}
\contentsline {subsection}{\numberline {18.2.15}Does Singularity support containers that require GPUs?}{157}{subsection.18.2.15}
\contentsline {section}{\numberline {18.3}Container portability}{157}{section.18.3}
\contentsline {subsection}{\numberline {18.3.1}Are Singularity containers kernel-dependent?}{157}{subsection.18.3.1}
\contentsline {subsection}{\numberline {18.3.2}Can a Singularity container resolve GLIBC version mismatches?}{157}{subsection.18.3.2}
\contentsline {subsection}{\numberline {18.3.3}What is the performance trade off when running an application native or through Singularity?}{157}{subsection.18.3.3}
\contentsline {section}{\numberline {18.4}Misc}{158}{section.18.4}
\contentsline {subsection}{\numberline {18.4.1}Are there any special security concerns that Singularity introduces?}{158}{subsection.18.4.1}
