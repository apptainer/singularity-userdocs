

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Contributing &mdash; Singularity container 2.6 documentation</title>




    <link rel="shortcut icon" href="_static/favicon.png"/>












  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Appendix" href="appendix.html" />


  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">


  <div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">



            <a href="index.html" class="icon icon-home"> Singularity container




            <img src="_static/logo.png" class="logo" alt="Logo"/>

          </a>




              <div class="version">
                2.6
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">






              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_a_container.html">Build a Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_environment.html">Build Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="container_recipes.html">Container Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity_flow.html">Singularity Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="bind_paths_and_mounts.html">Bind Paths and Mounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent_overlays.html">Persistent Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_services.html">Running Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="container_checks.html">Container Checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_and_metadata.html">Environment and Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="reproducible_scif_apps.html">Reproducible SCI-F Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity_and_docker.html">Singularity and Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#support-singularity">Support Singularity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#singularity-google-group">Singularity Google Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="#singularity-on-slack">Singularity on Slack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contribute-to-the-code">Contribute to the code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-1-fork-the-repo">Step 1. Fork the repo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-2-set-up-your-config">Step 2. Set up your config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-3-checkout-a-new-branch">Step 3. Checkout a new branch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-4-make-your-changes">Step 4. Make your changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-5-push-your-branch-to-your-fork">Step 5. Push your branch to your fork</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-6-submit-a-pull-request">Step 6. Submit a Pull Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#support-helping-and-spreading-the-word">Support, helping and spreading the word!</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-to-documentation">Contributing to Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" aria-label="top navigation">

          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Singularity container</a>

      </nav>


      <div class="wy-nav-content">

        <div class="rst-content style-external-links">

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">

      <li><a href="index.html">Docs</a> &raquo;</li>

      <li>Contributing</li>


      <li class="wy-breadcrumbs-aside">



              <a href="https://github.com/sylabs/singularity-userdocs/blob/master/contributing.rst" class="fa fa-github"> Edit on GitHub</a>



      </li>

  </ul>


  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="support-singularity">
<h2>Support Singularity<a class="headerlink" href="#support-singularity" title="Permalink to this headline">¶</a></h2>
<p>Singularity is an open source project, meaning we have the challenge of limited resources.
We are grateful for any support that you might offer to other users in the way of helping with issues, documentation,
or code! If you haven’t already, check out some of the ways to contribute to code and docs:</p>
<ul class="simple">
<li>contribute code</li>
<li>contribute docs</li>
</ul>
<div class="section" id="singularity-google-group">
<h3>Singularity Google Group<a class="headerlink" href="#singularity-google-group" title="Permalink to this headline">¶</a></h3>
<p>This is a huge endeavor, and it is greatly appreciated! If you have been using Singularity and having good luck with it,
join our <a class="reference external" href="https://groups.google.com/a/lbl.gov/forum/#!forum/singularity">Google Group</a>  and help out other users! Post to online communities about Singularity, and request that your distribution vendor,
service provider, and system administrators include Singularity for you!</p>
</div>
<div class="section" id="singularity-on-slack">
<h3>Singularity on Slack<a class="headerlink" href="#singularity-on-slack" title="Permalink to this headline">¶</a></h3>
<p>Many of our users come to slack for quick help with an issue. You can find us at <a class="reference external" href="https://singularity-container.slack.com/">singularity-container</a>.</p>
</div>
</div>
<div class="section" id="contribute-to-the-code">
<h2>Contribute to the code<a class="headerlink" href="#contribute-to-the-code" title="Permalink to this headline">¶</a></h2>
<p>To contribute to the development of Singularity, you must:</p>
<ul class="simple">
<li>Own the code and/or have the right to contribute it</li>
<li>Be able to submit software under the 3 clause BSD (or equivalent) license (while other licenses are allowed to be submitted by the license, acceptance of any contribution is up to the project lead)</li>
<li>Read, understand and agree to the license</li>
<li>Have a GitHub account (this just makes it easier on me)</li>
</ul>
<p>We use the traditional <a class="reference external" href="https://guides.github.com/introduction/flow/">GitHub Flow</a> to develop. This means that you fork the repo and checkout a branch to make changes, you submit a pull request (PR) to the development branch with your changes, and the development branch gets merged with master for official releases.
We also have an official <a class="reference external" href="https://github.com/sylabs/singularity/blob/master/CONTRIBUTING.md">CONTRIBUTING</a> document, which also includes a <a class="reference external" href="https://github.com/sylabs/singularity/blob/master/CONTRIBUTING.md#code-of-conduct">code of conduct</a>  .</p>
<div class="section" id="step-1-fork-the-repo">
<h3>Step 1. Fork the repo<a class="headerlink" href="#step-1-fork-the-repo" title="Permalink to this headline">¶</a></h3>
<p>To contribute to the web based documentation, you should obtain a GitHub account and fork the <a class="reference external" href="https://github.com/sylabs/singularity">Singularity</a> repository.
Once forked, you will want to clone the fork of the repo to your computer. Let’s say my GitHub username is vsoch, and I am using ssh:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git clone git@github.com:vsoch/singularity.git

cd singularity/
</pre></div>
</div>
</div>
<div class="section" id="step-2-set-up-your-config">
<h3>Step 2. Set up your config<a class="headerlink" href="#step-2-set-up-your-config" title="Permalink to this headline">¶</a></h3>
<p>The GitHub config file, located at .git/config, is the best way to keep track of many different forks of a repository.
I usually open it up right after cloning my fork to add the repository that I forked as a <a class="reference external" href="https://help.github.com/articles/adding-a-remote/">remote</a>, so I can easily get updated from it.
Let’s say my <code class="docutils literal notranslate"><span class="pre">.git/config</span></code> first looks like this, after I clone my own branch:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[core]

    repositoryformatversion = 0

    filemode = true

    bare = false

    logallrefupdates = true

[remote &quot;origin&quot;]

    url = git@github.com:vsoch/singularity

    fetch = +refs/heads/*:refs/remotes/origin/*

[branch &quot;master&quot;]

    remote = origin

    merge = refs/heads/master
</pre></div>
</div>
<p>I would want to add the upstream repository, which is where I forked from.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[core]

    repositoryformatversion = 0

    filemode = true

    bare = false

    logallrefupdates = true

[remote &quot;origin&quot;]

    url = git@github.com:vsoch/singularity

    fetch = +refs/heads/*:refs/remotes/origin/*

[remote &quot;upstream&quot;]

    url = https://github.com/sylabs/singularity

    fetch = +refs/heads/*:refs/remotes/origin/*

[branch &quot;master&quot;]

    remote = origin

    merge = refs/heads/master
</pre></div>
</div>
<p>I can also add some of my colleagues, if I want to pull from their branches:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[core]

    repositoryformatversion = 0

    filemode = true

    bare = false

    logallrefupdates = true

[remote &quot;origin&quot;]

    url = git@github.com:vsoch/singularity

    fetch = +refs/heads/*:refs/remotes/origin/*

[remote &quot;upstream&quot;]

    url = https://github.com/sylabs/singularity

    fetch = +refs/heads/*:refs/remotes/origin/*

[remote &quot;greg&quot;]

    url = https://github.com/gmkurtzer/singularity

    fetch = +refs/heads/*:refs/remotes/origin/*

[branch &quot;master&quot;]

    remote = origin

    merge = refs/heads/master
</pre></div>
</div>
<p>In the GitHub flow, the master branch is the frozen, current version of the software.
Your master branch is always in sync with the upstream (our sylabs master), and the sylabs master is always the latest release of Singularity.</p>
<p>This would mean that I can update my master branch as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git checkout master

git pull upstream master

git push origin master
</pre></div>
</div>
<p>and then I would return to working on the branch for my feature. How to do that exactly? Read on!</p>
</div>
<div class="section" id="step-3-checkout-a-new-branch">
<h3>Step 3. Checkout a new branch<a class="headerlink" href="#step-3-checkout-a-new-branch" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://guides.github.com/introduction/flow//">Branches</a> are a way of isolating your features. For example, if I am working on several features, I would want to keep them separate, and “submit them” (in what is called a <a class="reference external" href="https://help.github.com/articles/about-pull-requests/">pull request</a> ) to be added to the main repository codebase. Each repository, including your fork, has a main branch, which is usually called “master”. As mentioned earlier, the master branch of a fork should always be in sync with the repository it is forked from (which I usually refer to as “upstream”) and then branches of the fork consistently updated with that master. Given that we’ve just cloned the repo, we probably want to work off of the current development branch, which has the most up to date “next version” of the software. So we can start by checking out that branch:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git checkout -b development

git pull origin development
</pre></div>
</div>
<p>At this point, you can either choose to work on this branch, push to your origin development and pull request to sylabs development, or you can checkout another branch specific to your feature. We recommend always working from, and staying in sync with development. The command below would checkout a branch called <code class="docutils literal notranslate"><span class="pre">add/my-awesome-new-feature</span></code> from development.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Checkout a new branch called add/my-awesome-feature

git checkout -b add/my-awesome-feature development
</pre></div>
</div>
<p>The addition of the <code class="docutils literal notranslate"><span class="pre">-b</span></code> argument tells git that we want to make a new branch. If I want to just change branches (for example back to master) I can do the same command without <code class="docutils literal notranslate"><span class="pre">-b</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Change back to master

git checkout master
</pre></div>
</div>
<p>Note that you should commit changes to the branch you are working on before changing branches, otherwise they would be lost. GitHub will give you a warning and prevent you from changing branches if this is the case, so don’t worry too much about it.</p>
</div>
<div class="section" id="step-4-make-your-changes">
<h3>Step 4. Make your changes<a class="headerlink" href="#step-4-make-your-changes" title="Permalink to this headline">¶</a></h3>
<p>On your new branch, go nuts! Make changes, test them, and when you are happy with a bit of progress, commit the changes to the branch:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git commit -a
</pre></div>
</div>
<p>This will open up a little window in your default text editor that you can write a message in the first line. This commit message is important - it should describe exactly the changes that you have made. Bad commit messages are like:</p>
<ul class="simple">
<li>changed code</li>
<li>updated files</li>
</ul>
<p>Good commit messages are like:</p>
<ul class="simple">
<li>changed function “get_config” in functions.py to output csv to fix #2</li>
<li>updated docs about shell to close #10</li>
</ul>
<p>The tags “close #10” and “fix #2” are referencing issues that are posted on the main repo you are going to do a pull request to. Given that your fix is merged into the master branch, these messages will automatically close the issues, and further, it will link your commits directly to the issues they intended to fix. This is very important down the line if someone wants to understand your contribution, or (hopefully not) revert the code back to a previous version.</p>
</div>
<div class="section" id="step-5-push-your-branch-to-your-fork">
<h3>Step 5. Push your branch to your fork<a class="headerlink" href="#step-5-push-your-branch-to-your-fork" title="Permalink to this headline">¶</a></h3>
<p>When you are done with your commits, you should push your branch to your fork (and you can also continuously push commits here as you work):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git push origin add/my-awesome-feature
</pre></div>
</div>
<p>Note that you should always check the status of your branches to see what has been pushed (or not):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git status
</pre></div>
</div>
</div>
<div class="section" id="step-6-submit-a-pull-request">
<h3>Step 6. Submit a Pull Request<a class="headerlink" href="#step-6-submit-a-pull-request" title="Permalink to this headline">¶</a></h3>
<p>Once you have pushed your branch, then you can go to either fork and (in the GUI) <a class="reference external" href="https://help.github.com/articles/creating-a-pull-request/">submit a Pull Request</a>. Regardless of the name of your branch, your PR should be submit to the sylabs development branch. This will open up a nice conversation interface / forum for the developers of Singularity to discuss your contribution, likely after testing. At this time, any continuous integration that is linked with the code base will also be run. If there is an issue, you can continue to push commits to your branch and it will update the Pull Request.</p>
</div>
<div class="section" id="support-helping-and-spreading-the-word">
<h3>Support, helping and spreading the word!<a class="headerlink" href="#support-helping-and-spreading-the-word" title="Permalink to this headline">¶</a></h3>
<p>This is a huge endeavor, and it is greatly appreciated! If you have been using Singularity and having good luck with it, join our <a class="reference external" href="https://groups.google.com/a/lbl.gov/forum/#!forum/singularity">Google Group</a> and help out other users! Post to online communities about Singularity, and request that your distribution vendor, service provider, and system administrators include Singularity for you!</p>
</div>
</div>
<div class="section" id="contributing-to-documentation">
<h2>Contributing to Documentation<a class="headerlink" href="#contributing-to-documentation" title="Permalink to this headline">¶</a></h2>
<p>We (like almost all open source software providers) have a documentation dilemma… We tend to focus on the code features and functionality before working on documentation. And there is very good reason for this, we want to share the love so nobody feels left out!</p>
<p>You can contribute to the documentation, by sending a <a class="reference external" href="https://help.github.com/articles/about-pull-requests/">pull request</a> on our repository for documentation.</p>
<p>The current documentation is generated with:</p>
<ul class="simple">
<li><a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructured Text (RST)</a> and <a class="reference external" href="https://readthedocs.org/">ReadTheDocs</a></li>
</ul>
<p>Other dependencies include:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.python.org/download/releases/2.7/">Python 2.7</a></li>
<li><a class="reference external" href="https://pypi.org/project/Sphinx/">Sphinx</a></li>
</ul>
<p>More information about contributing to the documentation and the instructions on how to install the dependencies and how to generate the files can be obtained <a class="reference external" href="https://github.com/sylabs/singularity-userdocs#singularity-user-docs">here</a>.</p>
</div>
</div>


           </div>

          </div>
          <footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>


        <a href="appendix.html" class="btn btn-neutral" title="Appendix" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Singularity.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>


<script type="text/javascript" src="_static/js/footer.js"></script>


    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.6',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>



  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
